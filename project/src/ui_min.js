var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};function updateZoomSpeedFilter(a){zoomFactor=a}function updateCameraFOVFilter(a){camera.setFov(a)}
function updateBrushSizeFilter(){updateVars();CUnitCluster.traverse(function(a){a instanceof CUnit&&(mustExtrude?a.setCunitSize(dimensionX*BRUSH_SIZE,a.getScalePerWeight(),dimensionZ*BRUSH_SIZE):a.setCunitSize(dimensionX*BRUSH_SIZE,dimensionY*BRUSH_SIZE,dimensionZ*BRUSH_SIZE))})}
function updateSceneFilters(){resetScene();updateVars();CUnitCluster.traverse(function(a){a instanceof CUnit&&(a.getTimeStep()>=timeStepLowerBound&&a.getTimeStep()<timeStepUpperBound&&a.getCellY()>=xLowerBound&&a.getCellY()<xUpperBound&&a.getCellX()>=yLowerBound&&a.getCellX()<yUpperBound&&a.getZScore()>=zScoreLowerBound&&a.getZScore()<zScoreUpperBound?a.getMesh().visible=!0:a.getMesh().visible=!1,mustScale?(a.getMesh().position.z=-(a.getCellX()-yLowerBound)*dimensionX-offsetZ,a.getMesh().position.x=
(a.getCellY()-xLowerBound)*dimensionZ-offsetX):(a.getMesh().position.z=-a.getCellX()*dimensionX-offsetZ,a.getMesh().position.x=a.getCellY()*dimensionZ-offsetX),mustExtrude?a.getMesh().position.y=(a.getScalePerWeight()-sizeTime)/2:a.getMesh().position.y=(a.getTimeStep()-timeStepLowerBound)*dimensionY-offsetY)})}
function updateMapLayerDisplay(){updateVars();if(mustScale){var a=encodeURIComponent(newLngMin+","+newLatMin+","+newLngMax+","+newLatMax);redrawDynamicGridHelper(baseOXYGridHelper,sizeLat,sizeLng,newSizeX,newSizeZ);redrawDynamicGridHelper(baseOYZGridHelper,sizeLng,sizeTime,newSizeZ,newSizeY);redrawDynamicGridHelper(baseOXZGridHelper,sizeLat,sizeTime,newSizeX,newSizeY);dimensionX=sizeLat/newSizeX;dimensionY=sizeTime/newSizeY;dimensionZ=sizeLng/newSizeZ}else a=encodeURIComponent(LNG_MIN+","+LAT_MIN+
","+LNG_MAX+","+LAT_MAX),resetScene();updateBrushSizeFilter();a="https://www.openstreetmap.org/export/embed.html?bbox=LOCATION&amp;layers=MAPTYPE".replace("LOCATION",a).replace("MAPTYPE",maptype);document.getElementById("OSMLayer").setAttribute("src",a)}
function updateChunksFilter(){clearScene();updateChunksVars();for(var a=$jscomp.makeIterator(dataChunks[selectedChunk]),b=a.next();!b.done;b=a.next())b=b.value,b=new CUnit(b.cell_x,b.cell_y,b.time_step,b.zscore,b.pvalue),CUnitCluster.add(b),WebGLScene.add(b.getMesh())}
function updateOneLayerFilter(){resetScene();updateVars();CUnitCluster.traverse(function(a){a instanceof CUnit&&(a.getTimeStep()===extrudeLayer&&a.getTimeStep()>=timeStepLowerBound&&a.getTimeStep()<timeStepUpperBound&&a.getCellY()>=xLowerBound&&a.getCellY()<xUpperBound&&a.getCellX()>=yLowerBound&&a.getCellX()<yUpperBound&&a.getZScore()>=zScoreLowerBound&&a.getZScore()<zScoreUpperBound?(a.getMesh().visible=!0,mustExtrude?a.getMesh().position.y=(a.getScalePerWeight()-sizeTime)/2:a.getMesh().position.y=
(a.getTimeStep()-timeStepLowerBound)*dimensionY-offsetY,updateBrushSizeFilter()):a.getMesh().visible=!1)})}function updateMapAlphaFilter(a){mapMesh.material.opacity=a;document.getElementById("outerOSM").style.opacity=a}function updateGeometryFilter(a){CUnitCluster.traverse(function(b){b instanceof CUnit&&b.changeGeometry(a)})}
function updateDynamicMapFilter(a){a?(mapMesh.visible=!0,document.getElementById("OSMLayer").style.display="none"):(mapMesh.visible=!1,document.getElementById("OSMLayer").style.display="block")}function updateInteractiveMapFilter(a){a?document.getElementById("OSMLayerBlocker").style.display="none":document.getElementById("OSMLayerBlocker").style.display="block"}function updateMapScaleXFilter(a){mapLayer.scale.x=a}function updateMapScaleYFilter(a){mapLayer.scale.y=a}
function updateMapOffsetX(a){mapLayer.position.x=baseOXYGridHelper.position.x+a}function updateMapOffsetZ(a){mapLayer.position.z=baseOXYGridHelper.position.z+a}function updateMapOffsetY(a){mapLayer.position.y=baseOXYGridHelper.position.y+a}function updateMapLayerType(a){};
